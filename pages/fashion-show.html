<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Fashion Show</title>
  
  <!-- Google Fonts - Jersey 10 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Jersey+10&display=swap" rel="stylesheet">
    
  <!-- üî• CRITICAL: Add Toastify CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">

  <link rel="stylesheet" href="../css/fashion-show.css" />
</head>
<body>
  <main>
    <!-- Main title -->
    <h1>FASHION SHOW!</h1>
    
    <!-- Waiting message (visible during waiting room phase) -->
    <div class="waiting-message">
      WAITING FOR MORE<br>
      PLAYERS TO JOIN<br>
      <span id="player-counter">1/5</span>
    </div>

    <!-- Cat display area (visible during voting and results phases) -->
    <div class="cat-display" style="display: none;">
      <!-- Stage bases for 5 participants with enhanced structure -->
      <div class="stage-base" data-participant-index="0" data-participant-id="" data-cat-id="">
        <img src="../assets/icons/stage-walkway.png" alt="Stage Walkway" class="stage-walkway">
        <img src="" alt="Cat Sprite" class="cat-sprite" style="display: none;">
        <div class="cat-name"></div>
        <div class="username"></div>
        <!-- Gold base for results phase -->
        <div class="gold-base" style="display: none;"></div>
        <div class="reward-text" style="display: none;"></div>
      </div>
      
      <div class="stage-base" data-participant-index="1" data-participant-id="" data-cat-id="">
        <img src="../assets/icons/stage-walkway.png" alt="Stage Walkway" class="stage-walkway">
        <img src="" alt="Cat Sprite" class="cat-sprite" style="display: none;">
        <div class="cat-name"></div>
        <div class="username"></div>
        <div class="gold-base" style="display: none;"></div>
        <div class="reward-text" style="display: none;"></div>
      </div>
      
      <div class="stage-base" data-participant-index="2" data-participant-id="" data-cat-id="">
        <img src="../assets/icons/stage-walkway.png" alt="Stage Walkway" class="stage-walkway">
        <img src="" alt="Cat Sprite" class="cat-sprite" style="display: none;">
        <div class="cat-name"></div>
        <div class="username"></div>
        <div class="gold-base" style="display: none;"></div>
        <div class="reward-text" style="display: none;"></div>
      </div>
      
      <div class="stage-base" data-participant-index="3" data-participant-id="" data-cat-id="">
        <img src="../assets/icons/stage-walkway.png" alt="Stage Walkway" class="stage-walkway">
        <img src="" alt="Cat Sprite" class="cat-sprite" style="display: none;">
        <div class="cat-name"></div>
        <div class="username"></div>
        <div class="gold-base" style="display: none;"></div>
        <div class="reward-text" style="display: none;"></div>
      </div>
      
      <div class="stage-base" data-participant-index="4" data-participant-id="" data-cat-id="">
        <img src="../assets/icons/stage-walkway.png" alt="Stage Walkway" class="stage-walkway">
        <img src="" alt="Cat Sprite" class="cat-sprite" style="display: none;">
        <div class="cat-name"></div>
        <div class="username"></div>
        <div class="gold-base" style="display: none;"></div>
        <div class="reward-text" style="display: none;"></div>
      </div>
    </div>

    <!-- Timer section (visible during voting phase) -->
    <div class="timer-section" style="display: none;">
      <img src="../assets/icons/timer.png" alt="Timer" class="timer-icon">
      <span id="timer-text">60 s</span>
    </div>

    <!-- Warning message for voting on own cat -->
    <div class="warning-message" style="display: none;">
      YOU CAN'T<br>
      VOTE FOR<br>
      YOUR OWN<br>
      CAT!
    </div>

    <!-- Announcement text for transitions -->
    <div class="announcement-text" style="display: none;">
      CALCULATING VOTES, PLEASE WAIT . . .
    </div>

    <!-- Results buttons (visible during results phase) -->
    <div class="results-buttons" style="display: none;">
      <a href="#" class="results-button" id="play-again-btn">PLAY AGAIN</a>
      <a href="album.html" class="results-button" id="go-home-btn">GO HOME</a>
    </div>

  </main>
  
  <!-- Back to album button (always visible) -->
  <a href="album.html" class="album-button">‚Üê</a>

<!-- Exit confirmation dialog (hidden by default) -->
  <div class="exit-overlay" id="exit-overlay" style="display: none;">
    <div class="exit-dialog" id="exit-dialog">
      <div class="exit-dialog-title">
        Are you sure you want to exit this gameshow?
      </div>
      <div class="exit-dialog-buttons">
        <button class="exit-dialog-button" id="stay-btn">NO, I changed my mind</button>
        <button class="exit-dialog-button" id="leave-btn">YES, I'm sure</button>
      </div>
    </div>
  </div>

  <!-- üî• CRITICAL: Load dependencies in correct order -->
  
  <!-- 1. Load Toastify JavaScript FIRST -->
  <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
  
  <!-- 2. Load Socket.IO client SECOND -->
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  
  <!-- 3. Debug script to verify libraries loaded -->
  <script>
    console.log('üîß Toastify loaded check:', typeof Toastify !== 'undefined' ? '‚úÖ Available' : '‚ùå Not found');
    console.log('üîß Socket.IO loaded check:', typeof io !== 'undefined' ? '‚úÖ Available' : '‚ùå Not found');
    if (typeof io !== 'undefined') {
      console.log('üîß Socket.IO version:', io.version || 'Version property not available');
      window.io = io; // Ensure it's on window object
    }
    if (typeof Toastify !== 'undefined') {
      console.log('üîß Toastify version check: ‚úÖ Library loaded successfully');
      window.Toastify = Toastify; // Ensure it's on window object
    }
  </script>
  
  <!-- 4. Load fashion show script LAST (after all dependencies) -->
  <script type="module" src="../js/fashion-show.js"></script>
</body>
</html>
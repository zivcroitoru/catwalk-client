<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="icon" type="image/png" href="../assets/icons/cat_browser_icon.png" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Cats</title>
  <link rel="stylesheet" href="../css/cat-album.css" />
  <script defer src="../js/authentication.js"></script>
</head>

<body>
  <div class="welcome-message" id="welcomeMessage">Welcome, Guest</div>
  <button class="sign-out-btn" onclick="signOut()">Sign Out</button>


  <div id="game">

    <!-- Overlay -->
    <div id="uploadOverlay" class="modal-overlay" style="display: none;" onclick="toggleUploadCat()"></div>


    <div class="upload-cat-modal" id="uploadCat" style="display: none;">

      <div class="upload-cat-inner styled-popup" onclick="event.stopPropagation()">

        <!-- ‚ùå Close Button -->
        <button class="popup-close" onclick="toggleUploadCat()">√ó</button>

        <div class="popup-content">
          <div class="popup-left">
            <div class="speech-bubble">
              <h2>UPLOAD A CAT PHOTO</h2>
              <p>Our AI will analyze it and generate:</p>
              <ul>
                <li>A unique name</li>
                <li>A quirky personality</li>
                <li>A matching in-game sprite</li>
              </ul>
              <p>It‚Äôs all yours to collect, love, and dress up! üêæ</p>
            </div>
          </div>
          <div class="popup-right">

            <!-- Upload input and preview -->
            <label class="upload-label">
              <input type="file" id="catFileInput" accept="image/*" onchange="handleCatFileChange(event)" />
              <img id="uploadPreview" src="../assets/icons/upload-preview.png" class="upload-icon" alt="Upload Cat" />
            </label>

            <!-- Buttons shown only after upload -->
            <div id="uploadActions" class="upload-actions" style="display: none;">
              <img src="../assets/btns/v_btn.png" alt="Next" class="upload-icon-btn" onclick="handleNextClick()" />
              <img src="../assets/btns/x_btn.png" alt="Reupload" class="upload-icon-btn" onclick="triggerReupload()" />
            </div>


            <img src="../assets/icons/cat_with_cafe_icon.png" class="cat-sprite-foruploadscreen" alt="Cat sprite" />
          </div>
        </div>

      </div>
    </div>



    <!-- Centered Ellipse & Cat -->
    <div class="ellipse-podium">
      <img src="../assets/ui/Ellipse.svg" alt="Ellipse" class="center-ellipse" />
      <img id="carouselCat" src="../assets/cats/classic pink.png" alt="Cat" class="carousel-cat" />
    </div>

    <!-- Topbar Icons -->
    <div class="topbar">
      <div class="topbar-icon coin-icon" title="Coins">
        <img src="../assets/icons/coin.png" alt="Coins" />
        <span class="coin-count">123</span>
      </div>
      <div class="topbar-icon" title="Sound" onclick="toggleSound()" id="soundToggle">
        <img id="soundIcon" src="../assets/icons/speakerON.png" alt="Sound" />
      </div>
      <div class="topbar-icon" title="Mailbox" onclick="toggleMailbox()">
        <img src="../assets/icons/mail.png" alt="Mailbox" />
      </div>
    </div>

    <!-- Page Title -->
    <h1 class="cats-title">MY CATS</h1>

    <!-- Main Wrapper -->
    <div class="wrapper">
      <div class="main-area">
        <div class="main-cat"></div>

        <!-- Carousel -->
        <div class="carousel-wrapper">
          <div class="carousel-background" style="position: relative;"> <!-- ‚úÖ Keep only one -->
            <div class="floating-actions">
              <button onclick="window.location.href='fashion-show.html'">Fashion Show</button>
              <button onclick="toggleShop()">Open Shop</button>
              <button onclick="toggleDetails()">Open Details</button>
              <div class="inventory-box">Inventory: 8/25</div> <!-- üëà Styled like button -->

            </div>

            <button class="scroll-btn left" onclick="scrollCarousel(-1)">‚Äπ</button>

            <div class="carousel-viewport">
              <div class="carousel" id="catCarousel">
                <!-- 20 cat cards -->
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cats/classic pink.png');"></div>
                  <span>bruh</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat2.png');"></div><span>Cat
                    2</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat3.png');"></div><span>Cat
                    3</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat4.png');"></div><span>Cat
                    4</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat5.png');"></div><span>Cat
                    5</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat1.png');"></div><span>Cat
                    6</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat2.png');"></div><span>Cat
                    7</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat3.png');"></div><span>Cat
                    8</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat4.png');"></div><span>Cat
                    9</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat5.png');"></div><span>Cat
                    10</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat1.png');"></div><span>Cat
                    11</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat2.png');"></div><span>Cat
                    12</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat3.png');"></div><span>Cat
                    13</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat4.png');"></div><span>Cat
                    14</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat5.png');"></div><span>Cat
                    15</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat1.png');"></div><span>Cat
                    16</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat2.png');"></div><span>Cat
                    17</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat3.png');"></div><span>Cat
                    18</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat4.png');"></div><span>Cat
                    19</span>
                </div>
                <div class="cat-card">
                  <div class="cat-thumbnail" style="background-image: url('../assets/cat5.png');"></div><span>Cat
                    20</span>
                </div>
              </div>
            </div>

            <button class="scroll-btn right" onclick="scrollCarousel(1)">‚Ä∫</button>

            <!-- Right-side Add Cat Button -->
            <div class="add-cat-button" onclick="toggleUploadCat()">
              <img src="../assets/ui/plus.png" alt="Add Cat" />
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="catProfileScroll" class="cat-profile-scroll" style="display: none;">

    <div class="scroll-inner">


      <!-- üî§ Name Input (Top Center) -->
      <input type="text" id="catName" class="profile-name-input" value="Mr. Not so fluffy bottom" disabled />

      <!-- üêæ Info + Image Row -->
      <div class="profile-main">
        <!-- üìã Cat Info -->
        <div class="profile-info">
          <div class="profile-row"><strong>Breed:</strong> Sphynx</div>
          <div class="profile-row"><strong>Variant:</strong> Solid</div>
          <div class="profile-row"><strong>Palette:</strong> Classic Pink</div>
          <div class="profile-row"><strong>Birthday:</strong> 19/05</div>
          <div class="profile-row"><strong>Age:</strong> 01 days</div>
        </div>

        <!-- üñº Cat Image -->
        <div class="top-right-icons">
          <img src="../assets/real-cats/placeholder.png" class="placeholder-uploadedcat-profile" alt="Upload" />
        </div>
      </div>
      <!-- üìù Description -->
      <div class="desc-block">
        <label><strong>Description:</strong></label>
        <textarea id="catDesc" class="desc-input" disabled>
CUTE CUDDLY BUT ALSO VERY ENERGETIC.
SHE LOVES PLAYING ALL DAY WITH HER FRIENDS!

  </textarea>
        <p id="descCount" class="word-count"></p>
      </div>

      <!-- ‚úÖ Footer Buttons -->
      <div class="profile-footer-buttons">
        <button id="editBtn" class="profile-btn secondary">EDIT</button>
        <button id="deleteBtn" class="profile-btn danger" style="display: none;">DELETE</button>
        <button id="saveBtn" class="profile-btn primary" style="display: none;">SAVE</button>
      </div>

    </div> <!-- end scroll-inner -->
  </div> <!-- end cat-profile-scroll -->

  <!-- Mailbox Modal -->
  <div class="mailbox-modal" id="mailbox">
    <h3>Mailbox</h3>
    <p>You have 3 new messages.</p>
    <ul>
      <li>üéÅ You won 50 coins in a fashion show!</li>
      <li>üì¨ Your friend Fluffy sent you a gift!</li>
      <li>üì¢ New item in the shop: Fancy Hat</li>
    </ul>
    <button onclick="toggleMailbox()">Close</button>
  </div>

  <!-- Shop Modal -->
  <div class="shop-modal" id="shop">
    <h3>Item Shop</h3>
    <p>Buy cute clothes and accessories for your cats here!</p>
    <ul>
      <li>üëó Red Bow</li>
      <li>üé© Fancy Hat</li>
      <li>üß£ Cozy Scarf</li>
    </ul>
    <button onclick="toggleShop()">Close</button>
  </div>


  <!-- External JS -->
  <script src="../js/cat-album.js"></script>
  <!-- Upload Cat Modal -->

  <audio src="../assets/audio/bg-music.mp3" autoplay loop id="bgAudio"></audio>

</body>

</html>
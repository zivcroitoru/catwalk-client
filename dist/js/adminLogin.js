import"./modulepreload-polyfill.js";import{A as m}from"./main2.js";const d=1920,c=1080;function l(){const a=window.innerWidth/d,e=window.innerHeight/c,o=Math.min(a,e),t=document.querySelector(".scale-wrapper");if(t){t.style.transform=`scale(${o})`;const n=(window.innerWidth-d*o)/2,r=(window.innerHeight-c*o)/2;t.style.left=`${n}px`,t.style.top=`${r}px`}}window.addEventListener("resize",l);window.addEventListener("DOMContentLoaded",l);document.addEventListener("DOMContentLoaded",()=>{const a=document.querySelector(".login-button"),e=document.getElementById("warning");a.addEventListener("click",async()=>{const o=document.getElementById("username").value.trim(),t=document.getElementById("password").value.trim();if(e.textContent="",!o||!t){e.textContent="Please enter both username and password.",e.style.color="red";return}try{const n=await fetch(`${m}/api/admins/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:t})});if(!n.ok){let i="Invalid username or password.";try{const s=await n.json();s.message?i=s.message:s.error&&(i=s.error)}catch{}e.textContent=i,e.style.color="red";return}const r=await n.json();r.success?window.location.href="users.html":(e.textContent=r.message||"Invalid username or password.",e.style.color="red")}catch(n){console.error("Error during login:",n),e.textContent="Something went wrong. Please try again.",e.style.color="red"}})});
